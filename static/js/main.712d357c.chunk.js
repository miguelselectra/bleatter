(this.webpackJsonpbleater=this.webpackJsonpbleater||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(13),r=n.n(a),o=(n(40),n(35)),l=n(4),u=n(7),i=n(3),j=(n(41),n.p+"static/media/logo.6ce24c58.svg"),d=n(1);function b(e){var t=e.children,n=e.userLogged,c="";return n&&(c="/users/".concat(n.username)),Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)(u.b,{to:"/",children:Object(d.jsx)("img",{src:j,className:"App-logo",alt:"logo"})}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/",children:"Bleats"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/old.search",children:"Search input"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/search",children:"Search select"})}),!n&&Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/login",children:"Login"})}),n&&Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:c,children:"My Profile"})})]}),t]})}function h(e){var t=e.themeSelected,n=e.setTheme;return Object(d.jsx)("select",{name:"select",className:"theme-selector",value:t,onChange:function(e){n(e.target.value)},children:["App white","App dark"].map((function(e,t){return Object(d.jsx)("option",{value:e,children:e},t)}))})}function g(e){var t=e.addBleatHandler,n=e.userLogged,s=Object(c.useState)(""),a=Object(l.a)(s,2),r=a[0],o=a[1];return null===n?null:Object(d.jsx)("div",{className:"bleat-creator",children:Object(d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==r){var c={id:Math.trunc(9999999*Math.random()),message:r,userId:n.id};t(c),o("")}},children:[Object(d.jsx)("input",{type:"text",name:"bleat",onChange:function(e){return o(e.target.value)},value:r}),Object(d.jsx)("button",{children:"Create"})]})})}function O(e){var t=e.bleat,n=e.deleteHandler,c=e.userLogged;return Object(d.jsxs)("div",{className:"bleat-card",children:[Object(d.jsxs)("p",{children:[t.message," from @",t.user.username]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{children:"Responder"}),Object(d.jsx)("button",{children:"Like"}),c&&c.id===t.user.id&&Object(d.jsx)("button",{children:"Opciones"}),c&&c.id===t.user.id&&Object(d.jsx)("button",{onClick:n,children:"Delete"})]})]})}var x=n(6),p=n.n(x);function f(e){var t=e.bleats,n=e.setBleats,c=e.userLogged;return t&&t.map((function(e){return Object(d.jsx)(O,{bleat:e,deleteHandler:function(){return c=e.id,void p.a.delete("http://localhost:8000/bleats/"+c).then((function(e){n(t.filter((function(e){return e.id!==c})))})).catch((function(){console.log("Dont forget launch: npx json-server --watch data/db.json --port 8000")}));var c},userLogged:c},e.id)}))}function v(e){var t=e.bleats,n=e.setBleats,c=e.addBleatHandler,s=e.userLogged;return Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)(g,{addBleatHandler:c,userLogged:s}),Object(d.jsx)(f,{bleats:t,setBleats:n,userLogged:s})]})}function m(e){var t=e.userLogged,n=e.setUserLogged,s=Object(c.useState)("pepe@gmail.com"),a=Object(l.a)(s,2),r=a[0],o=a[1],u=Object(c.useState)("pepe123"),j=Object(l.a)(u,2),b=j[0],h=j[1],g=Object(i.f)();return Object(d.jsxs)("div",{className:"login",children:[!t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",onChange:function(e){return o(e.target.value)},value:r}),Object(d.jsx)("input",{type:"password",onChange:function(e){return h(e.target.value)},value:b}),Object(d.jsx)("button",{onClick:function(){p.a.get("http://localhost:8000/users?email=".concat(r,"&password=").concat(b)).then((function(e){0===e.data.length&&console.log("email o contrase\xf1a incorrecta"),n(e.data[0]),g.push("/")})).catch((function(){console.log("Dont forget launch: npx json-server --watch data/db.json --port 8000")}))},children:"Logueate"})]}),t&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Est\xe1s logueado como @",t.username]}),Object(d.jsx)("button",{onClick:function(){n(null)},children:"Cierra sesi\xf3n"})]}),!t&&Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Tienes que loguerte wey"})})]})}function L(e){var t=e.userLogged,n=e.user,c=e.setUserLogged;return n?Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Este es el perfil de @",n.username]}),Object(d.jsxs)("p",{children:["Enviame un email a ",n.email]}),Object(d.jsxs)("div",{children:[t&&Object(d.jsx)("button",{children:"MD wip"}),t&&Object(d.jsx)("button",{children:"Follow wip"}),t&&t.id===n.id&&Object(d.jsx)("button",{children:"Opciones wip"}),!t&&Object(d.jsxs)(u.b,{to:"login",children:["Login to contact with @",n.username]}),t&&t.id===n.id&&Object(d.jsx)("button",{onClick:function(){return c(null)},children:"Cierra sesi\xf3n"})]})]}):null}function S(e){var t=e.userLogged,n=Object(c.useState)(null),s=Object(l.a)(n,2),a=s[0],r=s[1],o=Object(c.useState)(""),u=Object(l.a)(o,2),i=u[0],j=u[1],b=Object(c.useState)([]),h=Object(l.a)(b,2),g=h[0],O=h[1];return Object(d.jsxs)("div",{className:"search",children:["Static search: ",Object(d.jsx)("input",{type:"text",onChange:function(e){return j(e.target.value)},value:i}),Object(d.jsx)("button",{onClick:function(){p.a.get("http://localhost:8000/users?username="+i+"&_embed=bleats").then((function(e){if(0!==e.data.length){r(e.data[0]);var t=e.data[0].bleats.map((function(t){return t.user=e.data[0],t}));O(t)}})).catch((function(e){console.log(e),console.log("Dont forget launch: npx json-server --watch data/db.json --port 8000")}))},children:"Busca"}),a&&Object(d.jsx)(L,{user:a,userLogged:t}),g&&Object(d.jsx)(f,{bleats:g,setBleats:O,userLogged:t})]})}function w(e){var t=e.userLogged,n=e.setUserLogged,s=Object(i.g)().username,a=Object(c.useState)(null),r=Object(l.a)(a,2),o=r[0],u=r[1];return Object(c.useEffect)((function(){p.a.get("http://localhost:8000/users?username="+s).then((function(e){0!==e.data.length&&(u(e.data[0]),console.log(e.data[0]))})).catch((function(e){console.log(e),console.log("Dont forget launch: npx json-server --watch data/db.json --port 8000")}))}),[]),Object(d.jsx)("div",{className:"search",children:o&&Object(d.jsx)(L,{setUserLogged:n,user:o,userLogged:t})})}var C=n(21);function B(e){var t=e.userLogged,n=Object(c.useState)(null),s=Object(l.a)(n,2),a=s[0],r=s[1],o=Object(c.useState)(""),u=Object(l.a)(o,2),i=u[0],j=u[1],b=Object(c.useState)([]),h=Object(l.a)(b,2),g=h[0],O=h[1],x=Object(c.useState)([]),v=Object(l.a)(x,2),m=v[0],S=v[1];Object(c.useEffect)((function(){p.a.get("http://localhost:8000/users?username_like="+i+"&_embed=bleats").then((function(e){if(console.log(e.data),0!==e.data.length){var t=e.data.map((function(e){return{value:e.id,label:e.username,user:e}}));S(t)}else S([])})).catch((function(e){console.log(e),console.log("Dont forget launch: npx json-server --watch data/db.json --port 8000")}))}),[i]);return Object(d.jsxs)("div",{className:"search",children:[Object(d.jsx)(C.a,{onChange:function(e){return function(e){r(e.user);var t=e.user.bleats.map((function(t){return t.user=e.user,t}));O(t)}(e)},options:m,value:i,inputValue:i,onInputChange:j}),a&&Object(d.jsx)(L,{user:a,userLogged:t}),g&&Object(d.jsx)(f,{bleats:g,setBleats:O,userLogged:t})]})}function D(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)("App white"),r=Object(l.a)(a,2),j=r[0],g=r[1],O=Object(c.useState)(null),x=Object(l.a)(O,2),f=x[0],L=x[1];Object(c.useEffect)((function(){p.a.get("http://localhost:8000/bleats?_expand=user").then((function(e){s(e.data)})).catch((function(){console.log("Dont forget launch: npx json-server --watch data/db.json --port 8000")}))}),[]);return Object(d.jsx)(u.a,{children:Object(d.jsxs)("div",{className:j,children:[Object(d.jsx)(b,{userLogged:f,children:Object(d.jsx)(h,{themeSelected:j,setTheme:g})}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{exact:!0,path:"/",children:Object(d.jsx)(v,{addBleatHandler:function(e){p.a.post("http://localhost:8000/bleats",e).then((function(e){var t=e.data;t.user=f,s([].concat(Object(o.a)(n),[t]))})).catch((function(){console.log("Dont forget launch: npx json-server --watch data/db.json --port 8000")}))},bleats:n,userLogged:f,setBleats:s})}),Object(d.jsx)(i.a,{path:"/old.search",children:Object(d.jsx)(S,{userLogged:f})}),Object(d.jsx)(i.a,{path:"/search",children:Object(d.jsx)(B,{userLogged:f})}),Object(d.jsx)(i.a,{path:"/login",children:Object(d.jsx)(m,{userLogged:f,setUserLogged:L})}),Object(d.jsx)(i.a,{path:"/users/:username",children:Object(d.jsx)(w,{userLogged:f,user:f,setUserLogged:L})}),Object(d.jsx)(i.a,{path:"*",children:"404"})]})]})})}var N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root")),N()}},[[76,1,2]]]);
//# sourceMappingURL=main.712d357c.chunk.js.map